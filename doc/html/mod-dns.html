<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">
<!-- $Id: mod-dns.html,v 1.23 2011/04/01 11:59:49 pseudo Exp $ -->

<html>
  <head>
    <title>Eggdrop Documentation: DNS Module</title>
  </head>

  <body>
    <div align="center">
      <p><strong>DNS Module</strong></p>
    </div>
    <hr>

    <p>This module provides asynchronous dns support. This will avoid long
    periods where the bot just hangs there, waiting for a hostname to
    resolve, which will often let it timeout on all other connections.</p>

    <blockquote>
      <ol>
        <li><a href="#config">Config file settings</a></li>
      </ol>
    </blockquote>
    <hr>

    <p><a name="config"></a>1. <strong>Config file settings</strong></p>

    <blockquote>
      <p>Put this line into your Eggdrop configuration file to load the
      dns module:</p>

      <p><strong>loadmodule dns</strong></p>

      <p>There are also some variables you can set in your config
      file:</p>
    </blockquote>

    <blockquote>
      <dl>
        <dt><strong>set dns-servers &quot;8.8.8.8 8.8.4.4&quot;</strong></dt>

        <dd>
          <p>In case your bot has trouble finding dns servers or you want to
          use specific ones, you can set them here. The value is a list of
          dns servers. The relative order doesn't matter. You can also
          specify a non-standard port. <br>
          The default is to use the system specified dns servers. You don't
          need to modify this setting normally.</p>
        </dd>

        <dt><strong>set dns-cache 86400</strong></dt>

        <dd>
          <p>Specify how long should the DNS module cache replies at
          maximum. The value must be in seconds. Note that it will respect
          the TTL of the reply and this is just an upper boundary.</p>
        </dd>

        <dt><strong>set dns-negcache 600</strong></dt>

        <dd>
          <p>Specify how long should the DNS module cache negative replies
          (NXDOMAIN, DNS Lookup failed). The value must be in seconds.</p>
        </dd>

        <dt><strong>set dns-maxsends 4</strong></dt>

        <dd>
          <p>How many times should the DNS module resend the query for a
          given domain if it receives no reply?</p>
        </dd>

        <dt><strong>set dns-retrydelay 3</strong></dt>

        <dd>
          <p>Specify how long should the DNS module wait for a reply before
          resending the query. The value must be in seconds.</p>
        </dd>
    </dl>
    </blockquote>
    <hr>

    <p><em>Copyright &copy; 1999 - 2011 Eggheads Development Team
    <a href="http://www.eggheads.org/"> Eggheads Development Team</a></em></p>
  </body>
</html>
